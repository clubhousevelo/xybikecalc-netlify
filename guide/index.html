<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1TXBTLXDW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-H1TXBTLXDW');
    </script>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
    <link rel="manifest" href="../site.webmanifest">
    
    <!-- Immediate dark mode setup -->
    <script>
      // Set theme immediately to prevent flash
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Meta Tags -->
    <meta name="description" content="XY Bike Calc - A collection of bike geometry tools for calculating handlebar and saddle positions using X/Y coordinates. Stop guessing, set your next bike up with accurate measurements.">
    <meta name="keywords" content="bike fit, bicycle fitting, XY bike calculator, bike position calculator, bike prescription, bike geometry, bike geometry calculator, saddle position, handlebar position">
    <meta name="author" content="XY Bike Calc">
    <meta name="robots" content="index, follow">
    <title>Guide - XY Bike Calc</title>
    <link rel="stylesheet" href="../css/styles.css">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.gstatic.com https://cdnjs.cloudflare.com https://apis.google.com https://www.googletagmanager.com 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' https://www.google-analytics.com; connect-src https://*.firebaseio.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://sheets.googleapis.com https://*.googleapis.com https://www.google-analytics.com https://analytics.google.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <!-- Ensure dark mode styles are applied -->
    <style>
        /* Ensure dark mode styles are applied */
        html[data-theme="dark"] {
            --primary-color: #0A84FF;
            --secondary-color: #5E5CE6;
            --background-color: #1C1C1E;
            --card-background: #2C2C2E;
            --border-color: #3C3C3E;
            --text-color: #FFFFFF;
            --text-secondary: #98989D;
            --error-color: #FF453A;
            --success-color: #32D74B;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --bg-color: #1C1C1E;
            --nav-bg: #2C2C2E;
            --card-bg: #2C2C2E;
            --input-bg: #3C3C3E;
            --input-border: #48484A;
            --button-bg: #0A84FF;
            --button-text: #FFFFFF;
            --hover-bg: #3C3C3E;
            --table-bg: #2C2C2E;
            --table-header-bg: #3C3C3E;
            --table-hover-bg: rgba(94, 92, 230, 0.1);
        }
        
        html[data-theme="dark"] body {
            background-color: var(--background-color);
            color: var(--text-color);
        }
        
        html[data-theme="dark"] .calculator-container,
        html[data-theme="dark"] .bike-card,
        html[data-theme="dark"] input,
        html[data-theme="dark"] select {
            background-color: var(--card-background);
            color: var(--text-color);
            border-color: var(--border-color);
        }
    </style>
    <style>
        .guide-content-wrapper {
            width: calc(100% - 250px);
            margin-left: 250px;
            display: flex;
            justify-content: center;
            overflow-x: hidden;
        }
        
        .guide-container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
        }
        
        @media (max-width: 770px) {
            .guide-content-wrapper {
                width: 100%;
                margin-left: 0;
                margin-top: 20px; /* Add spacing at the top for mobile */
                padding: 0 10px; /* Add horizontal padding to prevent edge-to-edge on mobile */
            }
            
            .guide-container {
                padding: 15px;
                max-width: 100%; /* Allow full width on very small screens */
            }
            
            /* Make headings and text slightly smaller on mobile */
            .guide-container h1 {
                font-size: 1.8rem;
            }
            
            .guide-section h2 {
                font-size: 1.5rem;
            }
            
            .guide-image {
                margin: 15px 0;
            }
        }
        
        /* Ensure content isn't hidden under the hamburger menu */
        @media (max-width: 770px) {
            body {
                padding-top: 50px;
            }
        }
        
        .guide-section {
            margin-bottom: 40px;
        }
        
        .guide-section h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .guide-section h3 {
            margin-top: 25px;
            margin-bottom: 10px;
            color: var(--text-color);
        }
        
        .guide-section p {
            line-height: 1.6;
            margin-bottom: 15px;
            color: var(--text-color);
        }
        
        .guide-section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .guide-section li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .guide-image {
            max-width: 100%;
            height: auto;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        
        .highlight-box {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            width: 90%;
            margin: 0 auto;
            margin-bottom: 10px;
        }
        
        .highlight-box h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
    </style>
</head>
<body>
    <button class="hamburger-menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <nav class="mobile-nav">
        <div class="nav-header">
            <a href="/"><h2>XY Bike Calc</h2></a>
        </div>
        <ul>
            <li><a href="/xy-position-calculator/">X/Y Position Calculator</a></li>
            <li><a href="/position-simulator/">Bike Position Simulator</a></li>
            <li><a href="/stack-reach-calculator/">Stack & Reach Calculator</a></li>
            <li><a href="/seatpost-calculator/">Seatpost Calculator</a></li>
            <li><a href="/stem-calculator/">Stem Calculator</a></li>
            <li><a href="/bike-search/">Bike Search</a></li>
        </ul>
        <div class="flex-spacer"></div>
        <div class="nav-item">
            <a href="/about/">About</a>
        </div>
        <div class="nav-item-guide">
            <a href="/guide/" class="active">Guide</a>
        </div>
        <div class="nav-item">
            <a href="/product-manuals/">Product Manuals</a>
        </div>
        <div class="nav-item-donate">
            <a href="/donate/">Donate</a>
        </div>
        <div class="non-auth-dependent login-container">
            <button class="login-button" onclick="window.location.href='/login/'">Login</button>
        </div>
        <div class="auth-dependent auth-container">
            <div class="user-container">
                <span class="user-display"></span>
                <button id="logout-button-mobile" class="logout-button">Logout</button>
            </div>
        </div>
        <div class="theme-toggle">
            <button id="mobileDarkModeToggle" class="dark-mode-toggle" onclick="toggleTheme()">
                <span class="toggle-icon">‚òÄÔ∏è</span>
                <span class="toggle-text">Light Mode</span>
            </button>
        </div>
        <div class="footer-links">
            <a href="/terms-of-service/" style="margin-bottom: -10px;">Terms of Service</a>
            <a href="/privacy-policy/">Privacy Policy</a>
            <div class="version">
                <a href="/changelog/">&nbsp;</a>
            </div>
        </div>
    </nav>

    <nav class="main-nav">
        <div class="nav-header">
            <a href="/"><h2>XY Bike Calc</h2></a>
        </div>
        <ul>
            <li><a href="/xy-position-calculator/">X/Y Position Calculator</a></li>
            <li><a href="/position-simulator/">Bike Position Simulator</a></li>
            <li><a href="/stack-reach-calculator/">Stack & Reach Calculator</a></li>
            <li><a href="/seatpost-calculator/">Seatpost Calculator</a></li>
            <li><a href="/stem-calculator/">Stem Calculator</a></li>
            <li><a href="/bike-search/">Bike Search</a></li>
        </ul>
        <div class="flex-spacer"></div>
        <div class="nav-item">
            <a href="/about/">About</a>
        </div>
        <div class="nav-item-guide">
            <a href="/guide/" class="active">Guide</a>
        </div>
        <div class="nav-item">
            <a href="/product-manuals/">Product Manuals</a>
        </div>
        <div class="nav-item-donate">
            <a href="/donate/">Donate</a>
        </div>
        <div class="non-auth-dependent login-container">
            <button class="login-button" onclick="window.location.href='/login/'">Login</button>
        </div>
        <div class="auth-dependent auth-container">
            <div class="user-container">
                <span class="user-display"></span>
                <button id="logout-button" class="logout-button">Logout</button>
            </div>
        </div>
        <div class="theme-toggle">
            <button id="darkModeToggle" class="dark-mode-toggle" onclick="toggleTheme()">
                <span class="toggle-icon">‚òÄÔ∏è</span>
                <span class="toggle-text">Light Mode</span>
            </button>
        </div>
        <div class="footer-links">
            <a href="/terms-of-service/" style="margin-bottom: -10px;">Terms of Service</a>
            <a href="/privacy-policy/">Privacy Policy</a>
            <div class="version">
                <a href="/changelog/">&nbsp;</a>
            </div>
        </div>
    </nav>
    <div class="guide-content-wrapper">
        <div class="guide-container">
            <h1 class="text-center">XY Bike Calculator User Guide</h1>
            
            <div class="guide-section">
                <h2 style="text-align: center;">Understanding the XY Position Calculator</h2>
                <p>The XY Position Calculator is a tool designed to help cyclists and fitters compare bike geometries based on handlebar and saddle positions. Using X (horizontal) and Y (vertical) coordinates, you can precisely determine how different bikes will position the rider.</p>
                
                <h3>What are X and Y coordinates?</h3>
                <p>In the XY Position Calculator, we use a coordinate system where:</p>
                <ul>
                    <li>The X-axis represents horizontal distance</li>
                    <li>The Y-axis represents vertical height</li>
                    <li>The origin (0,0) is at the bottom bracket (BB) of the bike</li>
                </ul>
                
                <img src="/images/xy-measurement-diagram.jpg" alt="Diagram showing XY coordinate measurements on a bicycle" class="guide-image">
                
                <p>As shown in the diagram above:</p>
                <ul>
                    <li><strong>Saddle X (SX)</strong> - The horizontal distance from the bottom bracket to the saddle rail center</li>
                    <li><strong>Saddle Y (SY)</strong> - The vertical height from the bottom bracket to the saddle rail center</li>
                    <li><strong>Handlebar X (HX)</strong> - The horizontal distance from the bottom bracket to the handlebar center</li>
                    <li><strong>Handlebar Y (HY)</strong> - The vertical height from the bottom bracket to the handlebar center</li>
                </ul>
            </div>
            
            <div class="guide-section">
                <h2>Target Positions</h2>
                <p>Target positions are the known or desired X and Y coordinates for your saddle and handlebar positions. These values can come from:</p>
                
                <div class="highlight-box">
                    <h4>Fit Bike Measurements</h4>
                    <p>If you've had a professional bike fit on a fit bike (like a Ret√ºl, Guru, or similar), the fitter would have determined your optimal saddle and handlebar positions. These X and Y coordinates represent your ideal position.</p>
                </div>
                
                <div class="highlight-box">
                    <h4>Current Bike Measurements</h4>
                    <p>If you're happy with your current bike position, you can measure the X and Y coordinates of your saddle and handlebar positions. This allows you to find a new bike that matches your current riding position.</p>
                </div>
                
                <p>By entering these target positions into the calculator, you can evaluate how closely different bike geometries will match your preferred position.</p>
            </div>
            
            <div class="guide-section">
                <h2>Understanding the Results</h2>
                <p>The calculator produces several important results that help you evaluate bike fit.</p>
                
                <h3>Position Differences</h3>
                <p>When the calculator displays the handlebar X and Y positions, it also shows the difference between the calculated position and your target position:</p>
                <ul>
                    <li><strong style="color: #FF3B30;">‚Üí 5mm longer</strong> means the handlebar X position is 5mm further forward than your target</li>
                    <li><strong style="color: #007AFF;">‚Üê 3mm shorter</strong> means the handlebar X position is 3mm closer than your target</li>
                    <li><strong style="color: #007AFF;">‚Üë 8mm higher</strong> means the handlebar Y position is 8mm higher than your target</li>
                    <li><strong style="color: #FF3B30;">‚Üì 2mm lower</strong> means the handlebar Y position is 2mm lower than your target</li>
                </ul>
                <p>These differences help you understand how closely the bike geometry matches your target position with the given stem configuration. The color coding (red and blue) provides a quick visual reference‚Äîthe same colors are used in the calculator itself.</p>
                
                <h3>Bar Reach Needed</h3>
                <p>The "Bar Reach Needed" value accounts for small differences between the calculated Handlebar X position and your Target Handlebar X. It suggests how much handlebar reach you would need to achieve your exact target X position.</p>
                <p>For example, if your calculated Handlebar X is 5mm shorter than your target, a handlebar with 5mm more reach would help you achieve your exact target position.</p>
                
                <h3>Setback vs STA</h3>
                <p>"Setback vs STA" indicates how far back (or forward) the saddle rail center would be positioned on a straight/zero setback seatpost:</p>
                <ul>
                    <li><strong>Negative values</strong> (e.g., -24mm) indicate the saddle is set back behind the seat tube angle line</li>
                    <li><strong>Positive values</strong> (e.g., +5mm) indicate the saddle is set forward ahead of the seat tube angle line</li>
                </ul>
                <p>This measurement helps you determine what type of seatpost you'll need:</p>
                <ul>
                    <li>Large negative values may require a setback seatpost</li>
                    <li>Positive values or small negative values might work better with a zero-offset or forward seatpost</li>
                </ul>
                
                <h3>BB to Rail</h3>
                <p>The "BB to Rail" value is particularly useful for bikes with integrated seat masts or specific seatpost designs (like Trek or Giant ISMs). It measures the distance from the bottom bracket to the saddle rail along the seat tube axis.</p>
                <p>This value helps determine:</p>
                <ul>
                    <li>Whether a position can fit within a size's minimum-maximum range for a specific seatmast system</li>
                    <li>The appropriate seatmast cap or seatpost length needed</li>
                    <li>How much adjustment range you have available</li>
                </ul>
            </div>
            
            <div class="guide-section">
                <h2>Practical Usage Tips</h2>
                <p>Here are some practical tips for getting the most out of the XY Position Calculator:</p>
                
                <h3>Comparing Multiple Bikes</h3>
                <p>The calculator allows you to add multiple bikes for side-by-side comparison. This makes it easy to see which bike geometry comes closest to your target position with the least modification.</p>
                
                <h3>Exploring Stem Options</h3>
                <p>You can adjust stem length, angle, and spacer height to see how these changes affect the handlebar position. This helps you find the optimal stem configuration for each bike geometry.</p>
                
                <div class="highlight-box">
                    <h4>Note on Stem Height</h4>
                    <p>"Stem Height" refers to the height of the stem clamp on the steerer tube. This measurement typically ranges from 38-42mm on traditional stems.</p>
                    <p>With the advent of internal cable routing systems, some modern stems (like the FSA NS ACR stem) have a very short clamp section at the steerer tube and non-traditional shapes. For these stems, the calculator's results may be off by a few millimeters since they may not follow conventional stem geometry.</p>
                    <p>If you're working with a bike that uses an integrated cockpit or non-traditional stem, be aware that small variations in the calculations might occur.</p>
                </div>


                <div class="highlight-box">
                    <h4>Note on Spacer & Headset Height</h4>
                    <p>With the addition of the "Headset Height" input (ver 1.6), the spacer height is now calculated using only the actual spacers above the headset and below the stem.</p>
                    <p>It's important to know that some instances, brands incorporate the headset bearing cover and/or transition spacers into their published stack and reach numbers. While this is generally rare, it's becoming more prevalent with modern "super bikes" with fully integrated front ends and proprietary parts.</p>

                    <p>When in doubt, check the manufacturer's geometry chart notes or contact them directly to confirm how spacer heights should be measured for a particular model.</p>
                </div>
                        
                <h3>Saving Your Data</h3>
                <p>Once you've created a setup that works, use the Save button to store your configuration for future reference. This is particularly helpful when testing multiple potential bike options.</p>
                
                <h3>Printing Results</h3>
                <p>The Print button generates a printable report of your bike comparisons, making it easy to share with clients or keep in your records for future reference.</p>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <!-- Custom Scripts -->
    <script src="../js/version.js"></script>
    <script src="../js/dark-mode.js"></script>
    <script src="../js/mobile-menu.js"></script>
    <script src="../js/calculator-header.js"></script>
    <script src="../js/firebase-auth.js"></script>
    <script src="../js/calculator.js"></script>
    <script>
        // Global function for dark mode toggle
        function toggleTheme() {
            // Toggle theme
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            // Apply theme
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            // Update all toggle buttons
            document.querySelectorAll('#darkModeToggle, #mobileDarkModeToggle').forEach(btn => {
                const icon = btn.querySelector('.toggle-icon');
                const text = btn.querySelector('.toggle-text');
                
                if (icon) icon.textContent = newTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
                if (text) text.textContent = newTheme === 'dark' ? 'Dark Mode' : 'Light Mode';
            });
            
            return false; // Prevent default action
        }
        
        // Update button appearance on page load
        document.addEventListener('DOMContentLoaded', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            document.querySelectorAll('#darkModeToggle, #mobileDarkModeToggle').forEach(btn => {
                const icon = btn.querySelector('.toggle-icon');
                const text = btn.querySelector('.toggle-text');
                
                if (icon) icon.textContent = currentTheme === 'dark' ? 'üåô' : '‚òÄÔ∏è';
                if (text) text.textContent = currentTheme === 'dark' ? 'Dark Mode' : 'Light Mode';
            });
        });
    </script>
</body>
</html> 