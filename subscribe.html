<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1TXBTLXDW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-H1TXBTLXDW');
    </script>
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SEO Meta Tags -->
    <meta name="description" content="Upgrade to XY Bike Calculator Premium - Compare unlimited bikes, save rider profiles, access Bike Position Simulator and more.">
    <meta name="keywords" content="bike calculator premium, bike fit subscription, bicycle fitting tools, XY bike calc pro">
    <meta name="author" content="XY Bike Calc">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.gstatic.com https://cdnjs.cloudflare.com https://apis.google.com https://www.googletagmanager.com https://js.stripe.com 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' https://www.google-analytics.com; frame-src https://js.stripe.com; connect-src 'self' https://*.firebaseio.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com https://sheets.googleapis.com https://*.googleapis.com https://www.google-analytics.com https://analytics.google.com;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <title>Upgrade - XY Bike Calculator</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Stripe Pricing Table Script -->
    <script src="https://js.stripe.com/v3/pricing-table.js"></script>
    <style>
        .subscription-container {
            max-width: 1000px;
            width: 100%;
            margin: 0 auto;
            padding: 0 1rem;
            flex-shrink: 0;
        }

        .subscription-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .subscription-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        .subscription-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px var(--shadow-color);
        }

        .feature-card h3 {
            color: var(--text-color);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .feature-list li {
            padding: 0.5rem 0;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        .feature-list li::before {
            content: "✓";
            color: var(--success-color);
            font-weight: bold;
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }

        .pricing-section {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px var(--shadow-color);
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .pricing-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .pricing-header h2 {
            color: var(--text-color);
            margin-bottom: 1rem;
        }

        .pricing-header p {
            color: var(--text-secondary);
        }

        .stripe-pricing-table {
            max-width: 800px;
            margin: 0 auto;
        }

        .subscription-benefits {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            padding: 2rem;
            margin-top: 2rem;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .benefit-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .benefit-icon {
            width: 24px;
            height: 24px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 0.2rem;
        }

        .benefit-text h4 {
            color: var(--text-color);
            margin: 0 0 0.5rem 0;
            font-size: 1.1rem;
        }

        .benefit-text p {
            color: var(--text-secondary);
            margin: 0;
            font-size: 0.9rem;
        }

        .login-prompt {
            background: var(--primary-color);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 2rem;
            display: none;
        }

        .login-prompt h3 {
            margin: 0 0 1rem 0;
        }

        .login-prompt button {
            background: white;
            color: var(--primary-color);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            margin: 0 0.5rem;
        }

        .login-prompt button:hover {
            background: #f0f0f0;
        }

        /* Fix main content margin for desktop */
        .main-content {
            margin-left: 215px; /* Match the main-nav width */
            padding: 2rem;
            width: calc(100vw - 215px);
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        /* Subscribe button styling */
        .nav-item-subscribe {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0px 0 18px 0;
        }

        .nav-item-subscribe a {
            display: inline-block;
            background: var(--primary-color);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-weight: bold;
            text-decoration: none;
            text-align: center;
            transition: background-color 0.2s ease;
            min-width: 120px;
        }

        .nav-item-subscribe a:hover {
            background: #0056b3;
        }

        /* Comparison Table Styles */
        .comparison-table-container {
            background: var(--card-bg);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px var(--shadow-color);
            padding: 2rem;
            margin-bottom: 3rem;
            overflow-x: auto;
        }

        .comparison-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .comparison-header h2 {
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }

        .comparison-header p {
            color: var(--text-secondary);
        }

        .comparison-table-wrapper {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--card-bg);
            min-width: 800px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: var(--table-header-bg);
            font-weight: bold;
            color: var(--text-color);
        }

        .feature-column {
            text-align: left !important;
            background: var(--table-header-bg);
            font-weight: 600;
            width: 40%;
        }

        .plan-column {
            width: 20%;
            vertical-align: top;
        }

        .plan-column.popular {
            position: relative;
            background: rgba(0, 122, 255, 0.05);
        }

        .popular-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-color);
            color: white;
            padding: 0.25rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .plan-header h3 {
            margin: 0 0 0.5rem 0;
            color: var(--text-color);
            font-size: 1.5rem;
        }

        .plan-price {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .plan-price span {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: normal;
        }

        .plan-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .category-row {
            background: var(--table-header-bg);
        }

        .category-row td {
            font-weight: bold;
            color: var(--text-color);
            padding: 1rem;
            text-align: left;
            border-bottom: 2px solid var(--border-color);
        }

        .feature-name {
            text-align: left !important;
            color: var(--text-color);
            font-weight: 500;
        }

        .feature-check {
            color: var(--success-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feature-x {
            color: var(--error-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .feature-value {
            color: var(--text-color);
            font-weight: 500;
        }

        .action-row td {
            padding: 1.5rem 1rem;
            border-bottom: none;
        }

        .plan-button {
            width: 100%;
            padding: 0.75rem 1rem;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }

        .free-button {
            background: var(--border-color);
            color: var(--text-secondary);
            cursor: not-allowed;
        }

        .upgrade-button {
            background: var(--primary-color);
            color: white;
        }

        .upgrade-button:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        .plan-column.popular .upgrade-button {
            background: var(--primary-color);
            box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
        }

        .plan-column.popular .upgrade-button:hover {
            background: #0056b3;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.4);
        }

        @media (max-width: 768px) {
            .main-content {
                margin-left: 0;
                padding: 1rem;
                max-width: 100vw;
            }
            
            .subscription-header h1 {
                font-size: 2rem;
            }
            
            .comparison-table-container {
                padding: 1rem;
                margin-bottom: 2rem;
            }
            
            .comparison-table {
                font-size: 0.9rem;
            }
            
            .comparison-table th,
            .comparison-table td {
                padding: 0.75rem 0.5rem;
            }
            
            .plan-header h3 {
                font-size: 1.2rem;
            }
            
            .plan-price {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <button class="hamburger-menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <nav class="mobile-nav">
        <div class="nav-header">
            <a href="/"><h2>XY Bike Calc</h2></a>
        </div>
        <ul>
            <li><a href="/xy-position-calculator/">X/Y Position Calculator</a></li>
            <li><a href="/position-simulator/">Bike Position Simulator</a></li>
            <li><a href="/stack-reach-calculator/">Stack & Reach Calculator</a></li>
            <li><a href="/seatpost-calculator/">Seatpost Calculator</a></li>
            <li><a href="/stem-calculator/">Stem Calculator</a></li>
            <li><a href="/bike-search/">Bike Search</a></li>
        </ul>
        <div class="flex-spacer"></div>
        <div class="nav-item">
            <a href="/about/">About</a>
        </div>
        <div class="nav-item-guide">
            <a href="/guide/">Guide</a>
        </div>
        <div class="nav-item">
            <a href="/product-manuals/">Product Manuals</a>
        </div>
        <div class="nav-item-donate">
            <a href="/donate/">Donate</a>
        </div>
        <div class="nav-item-subscribe">
            <a href="/subscribe.html">Subscribe</a>
        </div>
        <div class="non-auth-dependent login-container">
            <button class="login-button" onclick="window.location.href='/login/'">Login</button>
        </div>
        <div class="auth-dependent auth-container">
            <div class="user-container">
                <span class="user-display"></span>
                <button id="logout-button-mobile" class="logout-button">Logout</button>
            </div>
        </div>
        <div class="theme-toggle">
            <button id="mobileDarkModeToggle" class="dark-mode-toggle" onclick="toggleTheme()">
                <span class="toggle-icon">☀️</span>
                <span class="toggle-text">Light Mode</span>
            </button>
        </div>
        <div class="footer-links">
            <a href="/terms-of-service/" style="margin-bottom: -10px;">Terms of Service</a>
            <a href="/privacy-policy/">Privacy Policy</a>
            <div class="version">
                <a href="/changelog/">&nbsp;</a>
            </div>
        </div>
    </nav>
    <nav class="main-nav">
        <div class="nav-header">
            <a href="/"><h2>XY Bike Calc</h2></a>
        </div>
        <ul>
            <li><a href="/xy-position-calculator/">X/Y Position Calculator</a></li>
            <li><a href="/position-simulator/">Bike Position Simulator</a></li>
            <li><a href="/stack-reach-calculator/">Stack & Reach Calculator</a></li>
            <li><a href="/seatpost-calculator/">Seatpost Calculator</a></li>
            <li><a href="/stem-calculator/">Stem Calculator</a></li>
            <li><a href="/bike-search/">Bike Search</a></li>
        </ul>
        <div class="flex-spacer"></div>
        <div class="nav-item">
            <a href="/about/">About</a>
        </div>
        <div class="nav-item-guide">
            <a href="/guide/">Guide</a>
        </div>
        <div class="nav-item">
            <a href="/product-manuals/">Product Manuals</a>
        </div>
        <div class="nav-item-donate">
            <a href="/donate/">Donate</a>
        </div>
        <div class="nav-item-subscribe">
            <a href="/subscribe.html">Subscribe</a>
        </div>
        <div class="non-auth-dependent login-container">
            <button class="login-button" onclick="window.location.href='/login/'">Login</button>
        </div>
        <div class="auth-dependent auth-container">
            <div class="user-container">
                <span class="user-display"></span>
                <button id="logout-button" class="logout-button">Logout</button>
            </div>
        </div>
        <div class="theme-toggle">
            <button id="darkModeToggle" class="dark-mode-toggle" onclick="toggleTheme()">
                <span class="toggle-icon">☀️</span>
                <span class="toggle-text">Light Mode</span>
            </button>
        </div>
        <div class="footer-links">
            <a href="/terms-of-service/" style="margin-bottom: -10px;">Terms of Service</a>
            <a href="/privacy-policy/">Privacy Policy</a>
            <div class="version">
                <a href="/changelog/">&nbsp;</a>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <div class="subscription-container">
            <!-- Login Prompt (shown when user is not logged in) -->
            <div id="loginPrompt" class="login-prompt">
                <h3>Please log in to subscribe</h3>
                <p>You need to be logged in to upgrade your account.</p>
                <button onclick="showLoginModal()">Log In</button>
                <button onclick="showSignupModal()">Sign Up</button>
            </div>

            <!-- Subscription Header -->
            <div class="subscription-header">
                <h1>Upgrade to Premium</h1>
                <p>Unlock advanced features and unlimited bike comparisons to take your bike fitting to the next level.</p>
            </div>

            <!-- Feature Comparison Table -->
            <div class="comparison-table-container">
                <div class="comparison-header">
                    <h2>Compare Plans</h2>
                    <p>Choose the plan that best fits your bike fitting needs</p>
                </div>
                
                <div class="comparison-table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th class="feature-column">Features</th>
                                <th class="plan-column">
                                    <div class="plan-header">
                                        <h3>Free</h3>
                                        <div class="plan-price">$0<span>/month</span></div>
                                        <div class="plan-description">Perfect for getting started</div>
                                    </div>
                                </th>
                                <th class="plan-column popular">
                                    <div class="plan-header">

                                        <h3>Basic</h3>
                                        <div class="plan-price">$6.99<span>/month</span></div>
                                        <div class="plan-description">For enthusiasts</div>
                                    </div>
                                </th>
                                <th class="plan-column">
                                    <div class="plan-header">
                                        <h3>Pro</h3>
                                        <div class="plan-price">$14.99<span>/month</span></div>
                                        <div class="plan-description">For fitters, coaches, and professionals</div>
                                    </div>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="category-row">
                                <td colspan="4"><strong>XY Position Calculator</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Configure bikes from database</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Configure bikes with manual geometry input</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name"># of position comparisons</td>
                                <td class="feature-value">2 manual</td>
                                <td class="feature-value">2 from database, 2 manual</td>
                                <td class="feature-value">Unlimited</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Stem/Handlebar Visualization</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Save/Load rider profiles and configurations</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Print to PDF</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            
                            <tr class="category-row">
                                <td colspan="4"><strong>Bike Position Simulator</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name"># of position comparisons</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-value">1</td>
                                <td class="feature-value">2</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4"><strong>Stack & Reach Calculator</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Full access</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            
                            <tr class="category-row">
                                <td colspan="4"><strong>Seatpost Calculator</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Full access</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4"><strong>Stem Calculator</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Full access</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4"><strong>Bike Search</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Search database</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Add bikes from search to XY Position Calculator</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            
                            <tr class="category-row">
                                <td colspan="4"><strong>Support</strong></td>
                            </tr>
                            <tr>
                                <td class="feature-name">Email support</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                                <td class="feature-check">✓</td>
                            </tr>
                            <tr>
                                <td class="feature-name">Priority support</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-x">✗</td>
                                <td class="feature-check">✓</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="action-row">
                                <td></td>
                                <td class="plan-action">
                                    <button class="plan-button free-button" onclick="alert('Free plan is already active!')">Current Plan</button>
                                </td>
                                <td class="plan-action">
                                    <button class="plan-button upgrade-button" onclick="scrollToPricing()">Upgrade to Basic</button>
                                </td>
                                <td class="plan-action">
                                    <button class="plan-button upgrade-button" onclick="scrollToPricing()">Upgrade to Pro</button>
                                </td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <!-- Stripe Pricing Table -->
            <div class="pricing-section">
                <div class="pricing-header">
                    <h2>Choose Your Plan</h2>
                    <p>Start your subscription today and unlock premium features</p>
                </div>
                
                <div class="stripe-pricing-table">
                    <stripe-pricing-table 
                        pricing-table-id="prctbl_1SF91e2KCZl5vfz5uLrnE8qT"
                        publishable-key="pk_test_51R4Q9T2KCZl5vfz5FcH06HqBboNdRl1kETSfareCL9VLiIDSEmcRwG8jYJ0l2TvpARGHKwAkxudyOVEdP22wPeql009Y4KySGD">
                    </stripe-pricing-table>
                    
                    <!-- Fallback pricing table (hidden by default) -->
                    <div id="fallback-pricing" style="display: none;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem;">
                            <div style="background: var(--card-bg); border: 2px solid var(--border-color); border-radius: 12px; padding: 2rem; text-align: center;">
                                <h3 style="color: var(--text-color); margin-bottom: 1rem;">Basic Plan</h3>
                                <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin-bottom: 1rem;">$9.99<span style="font-size: 1rem; color: var(--text-secondary);">/month</span></div>
                                <ul style="list-style: none; padding: 0; margin: 1.5rem 0;">
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Compare up to 3 bikes</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Database bike access</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Print functionality</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Stem Visualization</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Bike Position Simulator</li>
                                </ul>
                                <button onclick="alert('Please contact support to set up your Basic subscription.')" style="background: var(--primary-color); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%;">Contact Support</button>
                            </div>
                            
                            <div style="background: var(--card-bg); border: 2px solid var(--primary-color); border-radius: 12px; padding: 2rem; text-align: center; position: relative;">
                                <div style="position: absolute; top: -10px; left: 50%; transform: translateX(-50%); background: var(--primary-color); color: white; padding: 0.25rem 1rem; border-radius: 20px; font-size: 0.8rem; font-weight: bold;">POPULAR</div>
                                <h3 style="color: var(--text-color); margin-bottom: 1rem;">Pro Plan</h3>
                                <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color); margin-bottom: 1rem;">$19.99<span style="font-size: 1rem; color: var(--text-secondary);">/month</span></div>
                                <ul style="list-style: none; padding: 0; margin: 1.5rem 0;">
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Everything in Basic</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Unlimited bike comparisons</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Rider Information & Profiles</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Save/Load configurations</li>
                                    <li style="padding: 0.5rem 0; color: var(--text-color);">✓ Full Bike Search</li>
                                </ul>
                                <button onclick="alert('Please contact support to set up your Pro subscription.')" style="background: var(--primary-color); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%;">Contact Support</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Additional Benefits -->
            <div class="subscription-benefits">
                <h2>Why Upgrade?</h2>
                <div class="benefits-grid">
                    <div class="benefit-item">
                        <div class="benefit-icon">⚡</div>
                        <div class="benefit-text">
                            <h4>Save Time</h4>
                            <p>Compare multiple bikes instantly with database access</p>
                        </div>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">💾</div>
                        <div class="benefit-text">
                            <h4>Save Profiles</h4>
                            <p>Store and load rider configurations for quick setup</p>
                        </div>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">📊</div>
                        <div class="benefit-text">
                            <h4>Advanced Tools</h4>
                            <p>Access Bike Position Simulator and enhanced visualizations</p>
                        </div>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">🔍</div>
                        <div class="benefit-text">
                            <h4>Bike Database</h4>
                            <p>Search and compare from thousands of bike models</p>
                        </div>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">🖨️</div>
                        <div class="benefit-text">
                            <h4>Print Reports</h4>
                            <p>Generate professional bike fit reports</p>
                        </div>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon">🎯</div>
                        <div class="benefit-text">
                            <h4>Precision Fitting</h4>
                            <p>Advanced stem visualization and position analysis</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>


    <!-- Firebase Auth Modal -->
    <div id="authModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="authContainer"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="js/firebase-auth.js"></script>
    <script src="js/version.js"></script>
    
    <script>
        // Add toggleTheme function for navigation compatibility
        function toggleTheme() {
            if (window.themeManager) {
                window.themeManager.toggleTheme();
            }
        }
        
        // Add auth modal functions for login prompt
        function showLoginModal() {
            // Redirect to login page for now
            window.location.href = '/login/';
        }
        
        function showSignupModal() {
            // Redirect to login page for now (signup is handled there)
            window.location.href = '/login/';
        }

        // Scroll to pricing section
        function scrollToPricing() {
            const pricingSection = document.querySelector('.pricing-section');
            if (pricingSection) {
                pricingSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }
    </script>
    
    <script>
        // Check if user is logged in and show/hide login prompt
        document.addEventListener('DOMContentLoaded', function() {
            firebase.auth().onAuthStateChanged(function(user) {
                const loginPrompt = document.getElementById('loginPrompt');
                if (user) {
                    loginPrompt.style.display = 'none';
                } else {
                    loginPrompt.style.display = 'block';
                }
            });
        });

        // Handle Stripe pricing table events
        document.addEventListener('stripe-pricing-table-loaded', function() {
            console.log('Stripe pricing table loaded');
        });

        // Track subscription events
        document.addEventListener('stripe-pricing-table-checkout-session-created', function(event) {
            console.log('Checkout session created:', event.detail);
            // You can track this event for analytics
            if (typeof gtag !== 'undefined') {
                gtag('event', 'begin_checkout', {
                    currency: 'USD',
                    value: event.detail.amount_total / 100
                });
            }
        });

        document.addEventListener('stripe-pricing-table-checkout-session-completed', function(event) {
            console.log('Checkout session completed:', event.detail);
            // Redirect to success page or show success message
            window.location.href = '/success?session_id=' + event.detail.id;
        });

        // Check if Stripe script loaded properly
        window.addEventListener('load', function() {
            setTimeout(function() {
                const stripeElement = document.querySelector('stripe-pricing-table');
                if (stripeElement && !stripeElement.shadowRoot) {
                    console.error('Stripe pricing table failed to load - showing fallback');
                    // Hide the Stripe element and show fallback
                    if (stripeElement) {
                        stripeElement.style.display = 'none';
                    }
                    const fallbackPricing = document.getElementById('fallback-pricing');
                    if (fallbackPricing) {
                        fallbackPricing.style.display = 'block';
                    }
                }
            }, 3000); // Wait 3 seconds for Stripe to load
        });
    </script>
</body>
</html>
